!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=14)}([function(t,e,r){"use strict";const n=2.3283064365386963e-10;class i{constructor(){this._seed=0,this._s0=0,this._s1=0,this._s2=0,this._c=0}getSeed(){return this._seed}setSeed(t){return t=t<1?1/t:t,this._seed=t,this._s0=(t>>>0)*n,t=69069*t+1>>>0,this._s1=t*n,t=69069*t+1>>>0,this._s2=t*n,this._c=1,this}getUniform(){let t=2091639*this._s0+this._c*n;return this._s0=this._s1,this._s1=this._s2,this._c=0|t,this._s2=t-this._c,this._s2}getUniformInt(t,e){let r=Math.max(t,e),n=Math.min(t,e);return Math.floor(this.getUniform()*(r-n+1))+n}getNormal(t=0,e=1){let r,n,i;do{r=2*this.getUniform()-1,n=2*this.getUniform()-1,i=r*r+n*n}while(i>1||0==i);return t+r*Math.sqrt(-2*Math.log(i)/i)*e}getPercentage(){return 1+Math.floor(100*this.getUniform())}getItem(t){return t.length?t[Math.floor(this.getUniform()*t.length)]:null}shuffle(t){let e=[],r=t.slice();for(;r.length;){let t=r.indexOf(this.getItem(r));e.push(r.splice(t,1)[0])}return e}getWeightedValue(t){let e=0;for(let r in t)e+=t[r];let r,n=this.getUniform()*e,i=0;for(r in t)if(i+=t[r],n<i)return r;return r}getState(){return[this._s0,this._s1,this._s2,this._c]}setState(t){return this._s0=t[0],this._s1=t[1],this._s2=t[2],this._c=t[3],this}clone(){return(new i).setState(this.getState())}}e.a=(new i).setSeed(Date.now())},function(t,e,r){"use strict";function n(t,e){return(t%e+e)%e}function i(t,e=0,r=1){return t<e?e:t>r?r:t}function o(t){return t.charAt(0).toUpperCase()+t.substring(1)}function s(t,...e){let r=s.map;return t.replace(/%(?:([a-z]+)|(?:{([^}]+)}))/gi,(function(n,i,s,a){if("%"==t.charAt(a-1))return n.substring(1);if(!e.length)return n;let l=e[0],h=(i||s).split(","),c=h.shift()||"",u=r[c.toLowerCase()];if(!u)return n;l=e.shift();let f=l[u].apply(l,h),p=c.charAt(0);return p!=p.toLowerCase()&&(f=o(f)),f}))}r.r(e),r.d(e,"mod",(function(){return n})),r.d(e,"clamp",(function(){return i})),r.d(e,"capitalize",(function(){return o})),r.d(e,"format",(function(){return s})),s.map={s:"toString"}},function(t,e,r){"use strict";r.r(e),r.d(e,"fromString",(function(){return o})),r.d(e,"add",(function(){return s})),r.d(e,"add_",(function(){return a})),r.d(e,"multiply",(function(){return l})),r.d(e,"multiply_",(function(){return h})),r.d(e,"interpolate",(function(){return c})),r.d(e,"lerp",(function(){return u})),r.d(e,"interpolateHSL",(function(){return f})),r.d(e,"lerpHSL",(function(){return p})),r.d(e,"randomize",(function(){return g})),r.d(e,"rgb2hsl",(function(){return _})),r.d(e,"hsl2rgb",(function(){return y})),r.d(e,"toRGB",(function(){return v})),r.d(e,"toHex",(function(){return m}));var n=r(1),i=r(0);function o(t){let e,r;if(t in w)e=w[t];else{if("#"==t.charAt(0)){let r=(t.match(/[0-9a-f]/gi)||[]).map(t=>parseInt(t,16));if(3==r.length)e=r.map(t=>17*t);else{for(let t=0;t<3;t++)r[t+1]+=16*r[t],r.splice(t,1);e=r}}else e=(r=t.match(/rgb\(([0-9, ]+)\)/i))?r[1].split(/\s*,\s*/).map(t=>parseInt(t)):[0,0,0];w[t]=e}return e.slice()}function s(t,...e){let r=t.slice();for(let t=0;t<3;t++)for(let n=0;n<e.length;n++)r[t]+=e[n][t];return r}function a(t,...e){for(let r=0;r<3;r++)for(let n=0;n<e.length;n++)t[r]+=e[n][r];return t}function l(t,...e){let r=t.slice();for(let t=0;t<3;t++){for(let n=0;n<e.length;n++)r[t]*=e[n][t]/255;r[t]=Math.round(r[t])}return r}function h(t,...e){for(let r=0;r<3;r++){for(let n=0;n<e.length;n++)t[r]*=e[n][r]/255;t[r]=Math.round(t[r])}return t}function c(t,e,r=.5){let n=t.slice();for(let i=0;i<3;i++)n[i]=Math.round(n[i]+r*(e[i]-t[i]));return n}const u=c;function f(t,e,r=.5){let n=_(t),i=_(e);for(let t=0;t<3;t++)n[t]+=r*(i[t]-n[t]);return y(n)}const p=f;function g(t,e){e instanceof Array||(e=Math.round(i.a.getNormal(0,e)));let r=t.slice();for(let t=0;t<3;t++)r[t]+=e instanceof Array?Math.round(i.a.getNormal(0,e[t])):e;return r}function _(t){let e,r=t[0]/255,n=t[1]/255,i=t[2]/255,o=Math.max(r,n,i),s=Math.min(r,n,i),a=0,l=(o+s)/2;if(o==s)e=0;else{let t=o-s;switch(e=l>.5?t/(2-o-s):t/(o+s),o){case r:a=(n-i)/t+(n<i?6:0);break;case n:a=(i-r)/t+2;break;case i:a=(r-n)/t+4}a/=6}return[a,e,l]}function d(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function y(t){let e=t[2];if(0==t[1])return e=Math.round(255*e),[e,e,e];{let r=t[1],n=e<.5?e*(1+r):e+r-e*r,i=2*e-n,o=d(i,n,t[0]+1/3),s=d(i,n,t[0]),a=d(i,n,t[0]-1/3);return[Math.round(255*o),Math.round(255*s),Math.round(255*a)]}}function v(t){return`rgb(${t.map(t=>Object(n.clamp)(t,0,255)).join(",")})`}function m(t){return"#"+t.map(t=>Object(n.clamp)(t,0,255).toString(16).padStart(2,"0")).join("")}const w={black:[0,0,0],navy:[0,0,128],darkblue:[0,0,139],mediumblue:[0,0,205],blue:[0,0,255],darkgreen:[0,100,0],green:[0,128,0],teal:[0,128,128],darkcyan:[0,139,139],deepskyblue:[0,191,255],darkturquoise:[0,206,209],mediumspringgreen:[0,250,154],lime:[0,255,0],springgreen:[0,255,127],aqua:[0,255,255],cyan:[0,255,255],midnightblue:[25,25,112],dodgerblue:[30,144,255],forestgreen:[34,139,34],seagreen:[46,139,87],darkslategray:[47,79,79],darkslategrey:[47,79,79],limegreen:[50,205,50],mediumseagreen:[60,179,113],turquoise:[64,224,208],royalblue:[65,105,225],steelblue:[70,130,180],darkslateblue:[72,61,139],mediumturquoise:[72,209,204],indigo:[75,0,130],darkolivegreen:[85,107,47],cadetblue:[95,158,160],cornflowerblue:[100,149,237],mediumaquamarine:[102,205,170],dimgray:[105,105,105],dimgrey:[105,105,105],slateblue:[106,90,205],olivedrab:[107,142,35],slategray:[112,128,144],slategrey:[112,128,144],lightslategray:[119,136,153],lightslategrey:[119,136,153],mediumslateblue:[123,104,238],lawngreen:[124,252,0],chartreuse:[127,255,0],aquamarine:[127,255,212],maroon:[128,0,0],purple:[128,0,128],olive:[128,128,0],gray:[128,128,128],grey:[128,128,128],skyblue:[135,206,235],lightskyblue:[135,206,250],blueviolet:[138,43,226],darkred:[139,0,0],darkmagenta:[139,0,139],saddlebrown:[139,69,19],darkseagreen:[143,188,143],lightgreen:[144,238,144],mediumpurple:[147,112,216],darkviolet:[148,0,211],palegreen:[152,251,152],darkorchid:[153,50,204],yellowgreen:[154,205,50],sienna:[160,82,45],brown:[165,42,42],darkgray:[169,169,169],darkgrey:[169,169,169],lightblue:[173,216,230],greenyellow:[173,255,47],paleturquoise:[175,238,238],lightsteelblue:[176,196,222],powderblue:[176,224,230],firebrick:[178,34,34],darkgoldenrod:[184,134,11],mediumorchid:[186,85,211],rosybrown:[188,143,143],darkkhaki:[189,183,107],silver:[192,192,192],mediumvioletred:[199,21,133],indianred:[205,92,92],peru:[205,133,63],chocolate:[210,105,30],tan:[210,180,140],lightgray:[211,211,211],lightgrey:[211,211,211],palevioletred:[216,112,147],thistle:[216,191,216],orchid:[218,112,214],goldenrod:[218,165,32],crimson:[220,20,60],gainsboro:[220,220,220],plum:[221,160,221],burlywood:[222,184,135],lightcyan:[224,255,255],lavender:[230,230,250],darksalmon:[233,150,122],violet:[238,130,238],palegoldenrod:[238,232,170],lightcoral:[240,128,128],khaki:[240,230,140],aliceblue:[240,248,255],honeydew:[240,255,240],azure:[240,255,255],sandybrown:[244,164,96],wheat:[245,222,179],beige:[245,245,220],whitesmoke:[245,245,245],mintcream:[245,255,250],ghostwhite:[248,248,255],salmon:[250,128,114],antiquewhite:[250,235,215],linen:[250,240,230],lightgoldenrodyellow:[250,250,210],oldlace:[253,245,230],red:[255,0,0],fuchsia:[255,0,255],magenta:[255,0,255],deeppink:[255,20,147],orangered:[255,69,0],tomato:[255,99,71],hotpink:[255,105,180],coral:[255,127,80],darkorange:[255,140,0],lightsalmon:[255,160,122],orange:[255,165,0],lightpink:[255,182,193],pink:[255,192,203],gold:[255,215,0],peachpuff:[255,218,185],navajowhite:[255,222,173],moccasin:[255,228,181],bisque:[255,228,196],mistyrose:[255,228,225],blanchedalmond:[255,235,205],papayawhip:[255,239,213],lavenderblush:[255,240,245],seashell:[255,245,238],cornsilk:[255,248,220],lemonchiffon:[255,250,205],floralwhite:[255,250,240],snow:[255,250,250],yellow:[255,255,0],lightyellow:[255,255,224],ivory:[255,255,240],white:[255,255,255]}},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));class n{getContainer(){return null}setOptions(t){this._options=t}}},function(t,e,r){(function(e){t.exports=new WebAssembly.Module(e.from([0,97,115,109,1,0,0,0,1,17,3,96,1,127,0,96,2,127,127,0,96,3,127,127,127,1,127,2,95,2,22,46,47,119,97,115,109,95,102,117,110,99,116,105,111,110,115,95,98,103,46,106,115,26,95,95,119,98,105,110,100,103,101,110,95,111,98,106,101,99,116,95,100,114,111,112,95,114,101,102,0,0,22,46,47,119,97,115,109,95,102,117,110,99,116,105,111,110,115,95,98,103,46,106,115,16,95,95,119,98,105,110,100,103,101,110,95,116,104,114,111,119,0,1,3,10,9,0,1,0,1,1,0,2,0,1,5,3,1,0,17,6,9,1,127,1,65,128,128,192,0,11,7,30,2,6,109,101,109,111,114,121,2,0,17,95,95,119,98,103,95,101,110,103,105,110,101,95,102,114,101,101,0,7,10,137,16,9,220,8,1,5,127,32,0,65,120,106,34,1,32,0,65,124,106,40,2,0,34,3,65,120,113,34,0,106,33,2,2,64,2,64,2,64,2,64,32,3,65,1,113,13,0,32,3,65,3,113,69,13,1,32,1,40,2,0,34,3,32,0,106,33,0,32,1,32,3,107,34,1,65,164,132,192,0,40,2,0,70,4,64,32,2,40,2,4,65,3,113,65,3,71,13,1,65,156,132,192,0,32,0,54,2,0,32,2,32,2,40,2,4,65,126,113,54,2,4,32,1,32,0,65,1,114,54,2,4,32,0,32,1,106,32,0,54,2,0,15,11,32,1,32,3,16,3,11,2,64,32,2,65,4,106,34,4,40,2,0,34,3,65,2,113,4,64,32,4,32,3,65,126,113,54,2,0,32,1,32,0,65,1,114,54,2,4,32,0,32,1,106,32,0,54,2,0,12,1,11,2,64,32,2,65,168,132,192,0,40,2,0,71,4,64,65,164,132,192,0,40,2,0,32,2,70,13,1,32,2,32,3,65,120,113,34,2,16,3,32,1,32,0,32,2,106,34,0,65,1,114,54,2,4,32,0,32,1,106,32,0,54,2,0,32,1,65,164,132,192,0,40,2,0,71,13,2,65,156,132,192,0,32,0,54,2,0,15,11,65,168,132,192,0,32,1,54,2,0,65,160,132,192,0,65,160,132,192,0,40,2,0,32,0,106,34,0,54,2,0,32,1,32,0,65,1,114,54,2,4,65,164,132,192,0,40,2,0,32,1,70,4,64,65,156,132,192,0,65,0,54,2,0,65,164,132,192,0,65,0,54,2,0,11,65,196,132,192,0,40,2,0,34,2,32,0,79,13,2,65,168,132,192,0,40,2,0,34,0,69,13,2,2,64,65,160,132,192,0,40,2,0,34,3,65,41,73,13,0,65,180,132,192,0,33,1,3,64,32,1,40,2,0,34,4,32,0,77,4,64,32,4,32,1,40,2,4,106,32,0,75,13,2,11,32,1,40,2,8,34,1,13,0,11,11,65,204,132,192,0,2,127,65,255,31,65,188,132,192,0,40,2,0,34,0,69,13,0,26,65,0,33,1,3,64,32,1,65,1,106,33,1,32,0,40,2,8,34,0,13,0,11,32,1,65,255,31,32,1,65,255,31,75,27,11,54,2,0,32,3,32,2,77,13,2,65,196,132,192,0,65,127,54,2,0,15,11,65,164,132,192,0,32,1,54,2,0,65,156,132,192,0,65,156,132,192,0,40,2,0,32,0,106,34,0,54,2,0,32,1,32,0,65,1,114,54,2,4,32,0,32,1,106,32,0,54,2,0,15,11,32,0,65,128,2,73,13,1,32,1,66,0,55,2,16,32,1,65,28,106,2,127,65,0,32,0,65,8,118,34,2,69,13,0,26,65,31,32,0,65,255,255,255,7,75,13,0,26,32,0,65,6,32,2,103,34,2,107,65,31,113,118,65,1,113,32,2,65,1,116,107,65,62,106,11,34,3,54,2,0,32,3,65,2,116,65,156,131,192,0,106,33,2,2,64,2,64,2,64,2,64,2,64,65,144,129,192,0,40,2,0,34,4,65,1,32,3,65,31,113,116,34,5,113,4,64,32,2,40,2,0,34,2,65,4,106,40,2,0,65,120,113,32,0,71,13,1,32,2,33,3,12,2,11,65,144,129,192,0,32,4,32,5,114,54,2,0,32,2,32,1,54,2,0,12,3,11,32,0,65,0,65,25,32,3,65,1,118,107,65,31,113,32,3,65,31,70,27,116,33,4,3,64,32,2,32,4,65,29,118,65,4,113,106,65,16,106,34,5,40,2,0,34,3,69,13,2,32,4,65,1,116,33,4,32,3,34,2,65,4,106,40,2,0,65,120,113,32,0,71,13,0,11,11,32,3,40,2,8,34,0,32,1,54,2,12,32,3,32,1,54,2,8,32,1,65,24,106,65,0,54,2,0,32,1,32,3,54,2,12,32,1,32,0,54,2,8,12,2,11,32,5,32,1,54,2,0,11,32,1,65,24,106,32,2,54,2,0,32,1,32,1,54,2,12,32,1,32,1,54,2,8,11,65,204,132,192,0,65,204,132,192,0,40,2,0,65,127,106,34,0,54,2,0,32,0,69,13,2,11,15,11,32,0,65,3,118,34,2,65,3,116,65,148,129,192,0,106,33,0,2,127,65,140,129,192,0,40,2,0,34,3,65,1,32,2,116,34,2,113,4,64,32,0,40,2,8,12,1,11,65,140,129,192,0,32,2,32,3,114,54,2,0,32,0,11,33,2,32,0,32,1,54,2,8,32,2,32,1,54,2,12,32,1,32,0,54,2,12,32,1,32,2,54,2,8,15,11,65,188,132,192,0,40,2,0,34,0,69,4,64,65,204,132,192,0,65,255,31,54,2,0,15,11,65,0,33,1,3,64,32,1,65,1,106,33,1,32,0,40,2,8,34,0,13,0,11,65,204,132,192,0,32,1,65,255,31,32,1,65,255,31,75,27,54,2,0,11,133,3,1,4,127,2,64,2,64,32,1,65,128,2,79,4,64,32,0,65,24,106,40,2,0,33,4,2,64,2,64,32,0,32,0,40,2,12,34,2,70,4,64,32,0,65,20,65,16,32,0,65,20,106,34,2,40,2,0,34,3,27,106,40,2,0,34,1,13,1,65,0,33,2,12,2,11,32,0,40,2,8,34,1,32,2,54,2,12,32,2,32,1,54,2,8,12,1,11,32,2,32,0,65,16,106,32,3,27,33,3,3,64,32,3,33,5,32,1,34,2,65,20,106,34,3,40,2,0,34,1,69,4,64,32,2,65,16,106,33,3,32,2,40,2,16,33,1,11,32,1,13,0,11,32,5,65,0,54,2,0,11,32,4,69,13,2,32,0,32,0,65,28,106,40,2,0,65,2,116,65,156,131,192,0,106,34,1,40,2,0,71,4,64,32,4,65,16,65,20,32,4,40,2,16,32,0,70,27,106,32,2,54,2,0,32,2,69,13,3,12,2,11,32,1,32,2,54,2,0,32,2,13,1,65,144,129,192,0,65,144,129,192,0,40,2,0,65,126,32,0,40,2,28,119,113,54,2,0,15,11,32,0,65,12,106,40,2,0,34,2,32,0,65,8,106,40,2,0,34,0,71,4,64,32,0,32,2,54,2,12,32,2,32,0,54,2,8,15,11,65,140,129,192,0,65,140,129,192,0,40,2,0,65,126,32,1,65,3,118,119,113,54,2,0,12,1,11,32,2,32,4,54,2,24,32,0,40,2,16,34,1,4,64,32,2,32,1,54,2,16,32,1,32,2,54,2,24,11,32,0,65,20,106,40,2,0,34,0,69,13,0,32,2,65,20,106,32,0,54,2,0,32,0,32,2,54,2,24,11,11,183,1,1,5,127,32,0,40,2,0,34,1,4,64,32,0,40,2,4,34,2,65,4,106,33,3,32,1,32,2,106,65,1,106,33,5,32,2,40,2,0,65,127,115,65,128,129,130,132,120,113,33,1,32,0,40,2,8,33,4,3,64,2,64,32,1,69,4,64,3,64,32,3,32,5,79,13,2,32,4,65,208,0,106,33,4,32,3,40,2,0,32,3,65,4,106,34,2,33,3,65,128,129,130,132,120,113,34,1,65,128,129,130,132,120,70,13,0,11,32,1,65,128,129,130,132,120,115,33,1,32,2,33,3,11,32,4,32,1,104,65,3,118,65,20,108,106,65,8,106,34,2,40,2,4,4,64,32,2,40,2,0,16,2,11,32,1,65,127,106,32,1,113,33,1,12,1,11,11,32,0,16,9,11,11,103,2,1,127,1,126,32,1,173,66,20,126,34,3,66,32,136,167,69,4,64,2,64,2,64,32,1,65,7,106,65,124,113,34,2,32,1,65,4,106,73,13,0,32,2,32,3,167,106,34,1,32,2,73,13,0,32,1,65,125,73,13,1,11,32,0,65,0,54,2,4,15,11,32,0,32,2,54,2,8,32,0,65,4,54,2,4,32,0,32,1,54,2,0,15,11,32,0,65,0,54,2,4,11,89,1,1,127,35,0,65,64,106,34,2,36,0,2,64,32,1,4,64,32,1,40,2,0,13,1,32,1,65,0,54,2,0,32,0,32,2,32,1,65,192,0,16,8,34,0,65,8,106,65,56,16,8,26,32,1,16,2,32,0,65,64,107,36,0,15,11,65,128,128,192,0,65,27,16,10,0,11,65,155,128,192,0,65,207,0,16,10,0,11,53,1,1,127,35,0,65,64,106,34,1,36,0,32,1,65,8,106,32,0,16,6,32,1,40,2,48,34,0,65,36,79,4,64,32,0,16,0,11,32,1,65,24,106,16,4,32,1,65,64,107,36,0,11,51,1,1,127,32,2,4,64,32,0,33,3,3,64,32,3,32,1,45,0,0,58,0,0,32,1,65,1,106,33,1,32,3,65,1,106,33,3,32,2,65,127,106,34,2,13,0,11,11,32,0,11,51,1,1,127,35,0,65,16,107,34,1,36,0,32,1,32,0,40,2,0,65,1,106,16,5,32,1,40,2,0,26,32,1,40,2,4,26,32,0,40,2,4,16,2,32,1,65,16,106,36,0,11,9,0,32,0,32,1,16,1,0,11,11,115,1,0,65,128,128,192,0,11,106,110,117,108,108,32,112,111,105,110,116,101,114,32,112,97,115,115,101,100,32,116,111,32,114,117,115,116,114,101,99,117,114,115,105,118,101,32,117,115,101,32,111,102,32,97,110,32,111,98,106,101,99,116,32,100,101,116,101,99,116,101,100,32,119,104,105,99,104,32,119,111,117,108,100,32,108,101,97,100,32,116,111,32,117,110,115,97,102,101,32,97,108,105,97,115,105,110,103,32,105,110,32,114,117,115,116,0,123,9,112,114,111,100,117,99,101,114,115,2,8,108,97,110,103,117,97,103,101,1,4,82,117,115,116,0,12,112,114,111,99,101,115,115,101,100,45,98,121,3,5,114,117,115,116,99,29,49,46,52,54,46,48,32,40,48,52,52,56,56,97,102,101,51,32,50,48,50,48,45,48,56,45,50,52,41,6,119,97,108,114,117,115,6,48,46,49,56,46,48,12,119,97,115,109,45,98,105,110,100,103,101,110,18,48,46,50,46,54,56,32,40,97,48,52,101,49,56,57,55,49,41]))}).call(this,r(9).Buffer)},function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return s}));var n=r(3),i=r(2);function o(t){let e=i.fromString(t);return 36*Math.floor(e[0]*(6/256))+6*Math.floor(e[1]*(6/256))+1*Math.floor(e[2]*(6/256))+16}class s extends n.a{constructor(){super(),this._offset=[0,0],this._cursor=[-1,-1],this._lastColor=""}schedule(t){setTimeout(t,1e3/60)}setOptions(t){super.setOptions(t);let e=[t.width,t.height],r=this.computeSize();this._offset=r.map((t,r)=>Math.floor((t-e[r])/2))}clear(){t.stdout.write(`[0;48;5;${o(this._options.bg)}m[2J`)}draw(e,r){let[n,i,s,a,l]=e,h=this._offset[0]+n,c=this._offset[1]+i,u=this.computeSize();if(h<0||h>=u[0])return;if(c<0||c>=u[1])return;if(h===this._cursor[0]&&c===this._cursor[1]||(t.stdout.write(function(t,e){return`[${e+1};${t+1}H`}(h,c)),this._cursor[0]=h,this._cursor[1]=c),r&&(s||(s=" ")),!s)return;let f=function(t,e){return`[0;38;5;${o(t)};48;5;${o(e)}m`}(a,l);if(f!==this._lastColor&&(t.stdout.write(f),this._lastColor=f),"\t"!=s){let e=[].concat(s);t.stdout.write(e[0])}this._cursor[0]++,this._cursor[0]>=u[0]&&(this._cursor[0]=0,this._cursor[1]++)}computeFontSize(){throw new Error("Terminal backend has no notion of font size")}eventToPosition(t,e){return[t,e]}computeSize(){return[t.stdout.columns,t.stdout.rows]}}}).call(this,r(7))},function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return a}));var n=r(4);function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=new Array(32).fill(void 0);o.push(void 0,null,!0,!1);o.length;var s=new("undefined"==typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});s.decode();var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,o;return e=t,(r=[{key:"free",value:function(){var t=this.ptr;this.ptr=0,n.__wbg_engine_free(t)}}])&&i(e.prototype,r),o&&i(e,o),t}()}).call(this,r(8)(t))},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var l,h=[],c=!1,u=-1;function f(){c&&l&&(c=!1,l.length?h=l.concat(h):u=-1,h.length&&p())}function p(){if(!c){var t=a(f);c=!0;for(var e=h.length;e;){for(l=h,h=[];++u<e;)l&&l[u].run();u=-1,e=h.length}l=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function _(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new g(t,e)),1!==h.length||c||a(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(11),i=r(12),o=r(13);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,r){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return h(this,t,e,r)}function h(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=f(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|g(e,r),i=(t=a(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(l.isBuffer(e)){var r=0|p(e.length);return 0===(t=a(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e){if(c(e),t=a(t,e<0?0:0|p(e)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e){var r=e.length<0?0:0|p(e.length);t=a(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function g(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return D(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(t).length;default:if(n)return D(t).length;e=(""+e).toLowerCase(),n=!0}}function _(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,r);case"utf8":case"utf-8":return A(this,e,r);case"ascii":return P(this,e,r);case"latin1":case"binary":return R(this,e,r);case"base64":return x(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function d(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=l.from(e,n)),l.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,i);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,n,i){var o,s=1,a=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,l/=2,r/=2}function h(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var c=-1;for(o=r;o<a;o++)if(h(t,o)===h(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){for(var u=!0,f=0;f<l;f++)if(h(t,o+f)!==h(e,f)){u=!1;break}if(u)return o}return-1}function m(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function w(t,e,r,n){return X(D(e,t.length-r),t,r,n)}function b(t,e,r,n){return X(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function E(t,e,r,n){return b(t,e,r,n)}function T(t,e,r,n){return X(j(e),t,r,n)}function S(t,e,r,n){return X(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function x(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function A(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,l,h=t[i],c=null,u=h>239?4:h>223?3:h>191?2:1;if(i+u<=r)switch(u){case 1:h<128&&(c=h);break;case 2:128==(192&(o=t[i+1]))&&(l=(31&h)<<6|63&o)>127&&(c=l);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(l=(15&h)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&h)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,u=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=u}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,r){return h(null,t,e,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,r){return function(t,e,r,n){return c(e),e<=0?a(t,e):void 0!==r?"string"==typeof n?a(t,e).fill(r,n):a(t,e).fill(r):a(t,e)}(null,t,e,r)},l.allocUnsafe=function(t){return u(null,t)},l.allocUnsafeSlow=function(t){return u(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=l.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):_.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,r,n,i){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s),h=this.slice(n,i),c=t.slice(e,r),u=0;u<a;++u)if(h[u]!==c[u]){o=h[u],s=c[u];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},l.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},l.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},l.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return m(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":return b(this,t,e,r);case"latin1":case"binary":return E(this,t,e,r);case"base64":return T(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function R(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function k(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=N(t[o]);return i}function M(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function C(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function B(t,e,r,n,i,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function U(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function O(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function z(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function I(t,e,r,n,o){return o||z(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function L(t,e,r,n,o){return o||z(t,0,r,8),i.write(t,e,r,n,52,8),r+8}l.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=l.prototype;else{var i=e-t;r=new l(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},l.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||C(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},l.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||C(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},l.prototype.readUInt8=function(t,e){return e||C(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||C(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||C(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||C(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||C(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||C(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||C(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||C(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(t,e){e||C(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(t,e){return e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||C(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||C(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||C(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||C(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||B(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},l.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||B(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},l.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):O(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);B(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},l.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);B(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},l.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):O(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,r){return I(this,t,e,!0,r)},l.prototype.writeFloatBE=function(t,e,r){return I(this,t,e,!1,r)},l.prototype.writeDoubleLE=function(t,e,r){return L(this,t,e,!0,r)},l.prototype.writeDoubleBE=function(t,e,r){return L(this,t,e,!1,r)},l.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},l.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=l.isBuffer(t)?t:D(new l(t,n).toString()),a=s.length;for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var Y=/[^+\/0-9A-Za-z-_]/g;function N(t){return t<16?"0"+t.toString(16):t.toString(16)}function D(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function j(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(Y,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function X(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(10))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";e.byteLength=function(t){var e=h(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,n=h(t),s=n[0],a=n[1],l=new o(function(t,e,r){return 3*(e+r)/4-r}(0,s,a)),c=0,u=a>0?s-4:s;for(r=0;r<u;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=255&e;2===a&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,l[c++]=255&e);1===a&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,l[c++]=e>>8&255,l[c++]=255&e);return l},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(c(t,s,s+16383>a?a:s+16383));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,l=(1<<a)-1,h=l>>1,c=-7,u=r?i-1:0,f=r?-1:1,p=t[e+u];for(u+=f,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+t[e+u],u+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+t[e+u],u+=f,c-=8);if(0===o)o=1-h;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=h}return(p?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,l,h=8*o-i-1,c=(1<<h)-1,u=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,g=n?1:-1,_=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+u>=1?f/l:f*Math.pow(2,1-u))*l>=2&&(s++,l/=2),s+u>=c?(a=0,s=c):s+u>=1?(a=(e*l-1)*Math.pow(2,i),s+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&a,p+=g,a/=256,i-=8);for(s=s<<i|a,h+=i;h>0;t[r+p]=255&s,p+=g,s/=256,h-=8);t[r+p-g]|=128*_}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"TYPE_TEXT",(function(){return lt})),r.d(n,"TYPE_NEWLINE",(function(){return ht})),r.d(n,"TYPE_FG",(function(){return ct})),r.d(n,"TYPE_BG",(function(){return ut})),r.d(n,"measure",(function(){return ft})),r.d(n,"tokenize",(function(){return pt}));const i=()=>{};function o(t){return void 0===t?[]:Array.isArray(t)?t:[t]}function s(t){return t.length>1?t:t[0]}function a(t){return null==t?[]:"string"!=typeof t&&"function"==typeof t[Symbol.iterator]?Array.from(t):[t]}function l(t){return null!=t&&"function"==typeof t.then}const h=Symbol.for("crank.Portal"),c=Symbol.for("crank.Copy"),u=Symbol.for("crank.Raw"),f=Symbol.for("crank.Element");class p{constructor(t,e,r,n){this.$$typeof=f,this._f=0,this.tag=t,this.props=e,this.key=r,this.ref=n,this._ch=void 0,this._n=void 0,this._ctx=void 0}}function g(t){return null!=t&&t.$$typeof===f}function _(t,e,...r){let n,i;const o={};if(null!=e)for(const t in e)"crank-key"===t?null!=e["crank-key"]&&(n=e["crank-key"]):"crank-ref"===t?"function"==typeof e["crank-ref"]&&(i=e["crank-ref"]):o[t]=e[t];return r.length>1?o.children=r:1===r.length&&(o.children=r[0]),new p(t,o,n,i)}function d(t){if("boolean"!=typeof t&&null!=t)return"string"==typeof t||g(t)?t:"function"==typeof t[Symbol.iterator]?_("",null,t):t.toString()}function y(t){const e=[];let r;for(let n=0;n<t.length;n++){const i=t[n];if(i)if("string"==typeof i)r=(r||"")+i;else if(Array.isArray(i))for(let t=0;t<i.length;t++){const n=i[t];n&&("string"==typeof n?r=(r||"")+n:(r&&(e.push(r),r=void 0),e.push(n)))}else r&&(e.push(r),r=void 0),e.push(i);else;}return r&&e.push(r),e}function v(t){return t._fb?"object"==typeof t._fb?v(t._fb):t._fb:t.tag!==h?"function"!=typeof t.tag&&""!==t.tag?t._n:s(m(t)):void 0}function m(t){const e=[],r=o(t._ch);for(let t=0;t<r.length;t++){const n=r[t];n&&e.push("string"==typeof n?n:v(n))}return y(e)}function w(t,e,r,n,o,s,a){let f;return"object"==typeof s&&"object"==typeof a&&s.tag===a.tag?(s.tag===h&&s.props.root!==a.props.root&&t.arrange(s,s.props.root,[]),s!==a&&(s.props=a.props,s.ref=a.ref,a=s),f=E(t,e,r,n,o,a)):"object"==typeof a?a.tag===c?(f="object"==typeof s?s._inf||v(s):s,"function"==typeof a.ref&&(l(f)?f.then(a.ref).catch(i):a.ref(f)),a=s):(1&a._f&&(a=function(t){if(!g(t))throw new TypeError("Cannot clone non-element");return new p(t.tag,{...t.props},t.key,t.ref)}(a)),f=function(t,e,r,n,i,o){if(o._f|=1,"function"==typeof o.tag)return o._ctx=new P(t,e,r,n,i,o),B(o._ctx);if(o.tag===u)return x(t,i,o,[]);""!==o.tag&&(o.tag===h&&(e=o.props.root),r=o,i=t.scope(r,i));return b(t,e,r,n,i,o,o.props.children)}(t,e,r,n,o,a),l(f)&&(a._fb=s)):"string"==typeof a&&(f=t.escape(a,o)),[a,f]}function b(t,e,r,n,i,o,h){const c=a(h),u=[];let f,p=!1;for(let o=0;o<c.length;o++){let s,a=d(c[o]);"object"==typeof a&&void 0!==a.key&&(void 0===f?f=new Set:f.has(a.key)&&console.error("Duplicate key",a.key),f.add(a.key)),[a,s]=w(t,e,r,n,i,void 0,a),c[o]=a,u.push(s),!p&&l(s)&&(p=!0)}if(o._ch=s(c),p){let e;const r=Promise.race([Promise.all(u),new Promise(t=>e=t)]);return o._onv&&o._onv(r),o._onv=e,o._inf=r.then(e=>x(t,i,o,y(e))),o._inf}return o._onv&&(o._onv(u),o._onv=void 0),x(t,i,o,y(u))}function E(t,e,r,n,i,o){return"function"==typeof o.tag?o._ctx?B(o._ctx):void 0:o.tag===u?x(t,i,o,[]):(""!==o.tag&&(r=o,i=t.scope(r,i),o.tag===h&&(e=o.props.root)),S(t,e,r,n,i,o,o.props.children))}function T(t){const e=new Map;for(let r=0;r<t.length;r++){const n=t[r];"object"==typeof n&&void 0!==n.key&&e.set(n.key,n)}return e}function S(t,e,r,n,i,h,c){if(void 0===h._ch)return b(t,e,r,n,i,h,c);const u=o(h._ch),f=a(c),p=[],g=[];let _,v,m=0,E=!1;for(let o=0;o<f.length;o++){let s,a=u[m],h=d(f[o]),c="object"==typeof a?a.key:void 0,y="object"==typeof h?h.key:void 0;if(void 0!==_&&_.has(y)&&(console.error("Duplicate key",y),y=void 0),c!==y)if(v||(v=T(u.slice(m))),void 0===y){for(;void 0!==a&&void 0!==c;)m++,a=u[m],c="object"==typeof a?a.key:void 0;m++}else a=v.get(y),void 0!==a&&v.delete(y),_||(_=new Set),_.add(y);else void 0!==v&&void 0!==y&&v.delete(y),m++;[h,s]=w(t,e,r,n,i,a,h),p.push(s),f[o]=h,!E&&l(s)&&(E=!0),"object"==typeof a&&a!==h&&g.push(a)}for(h._ch=s(f);m<u.length;m++){const t=u[m];"object"==typeof t&&void 0===t.key&&g.push(t)}if(void 0!==v&&v.size>0&&g.push(...v.values()),E){let e,o=Promise.all(p).finally(()=>{g.forEach(e=>A(t,r,n,e))});return o=Promise.race([o,new Promise(t=>e=t)]),h._onv&&h._onv(o),h._onv=e,h._inf=o.then(e=>x(t,i,h,y(e))),h._inf}return g.forEach(e=>A(t,r,n,e)),h._onv&&(h._onv(p),h._onv=void 0),x(t,i,h,y(p))}function x(t,e,r,n){let i=s(n);return"function"==typeof r.tag?"object"==typeof r._ctx&&function(t,e){if(32&t._f)return;if(void 0!==t._ls&&t._ls.length>0)for(const r of o(e))if(N(r))for(const e of t._ls)r.addEventListener(e.type,e.callback,e.options);if(!(1&t._f)){const r=j(t._pa,t._ho);if(void 0!==r&&r.length>0)for(let t=0;t<r.length;t++){const n=r[t];for(const t of o(e))N(t)&&t.addEventListener(n.type,n.callback,n.options)}const n=t._ho;2&n._f&&t._re.arrange(n,n.tag===h?n.props.root:n._n,m(n)),t._re.complete(t._rt)}if(t._f&=-2,t._ss&&t._ss.size>0){const r=Array.from(t._ss);t._ss.clear();const n=t._re.read(e);for(const t of r)t(n)}}(r._ctx,i):r.tag===h?(2&r._f||(r._f|=2),t.arrange(r,r.props.root,n),t.complete(r.props.root),i=void 0):r.tag===u?("string"==typeof r.props.value?r._n=t.parse(r.props.value,e):r._n=r.props.value,i=r._n):""!==r.tag&&(2&r._f||(r._n=t.create(r,e),r._f|=2),t.patch(r,r._n),t.arrange(r,r._n,n),i=r._n),r.ref&&r.ref(t.read(i)),r._inf&&(r._inf=void 0),r._fb&&(r._fb=void 0),i}function A(t,e,r,n){if("function"==typeof n.tag)"object"==typeof n._ctx&&function(t){if(t._f|=32,X(t),t._cs){const e=t._re.read(v(t._el));for(const r of t._cs)r(e);t._cs=void 0}if(!(16&t._f)&&(t._f|=16,C(t),t._it&&"function"==typeof t._it.return)){let e;try{t._f|=2,e=t._it.return()}finally{t._f&=-3}l(e)&&e.catch(e=>W(t._pa,e))}}(n._ctx),r=n._ctx;else if(n.tag===h)e=n,t.arrange(e,e.props.root,[]),t.complete(e.props.root);else if(""!==n.tag){if(N(n._n)){const t=j(r,e);if(void 0!==t&&t.length>0)for(let e=0;e<t.length;e++){const r=t[e];n._n.removeEventListener(r.type,r.callback,r.options)}}e=n,t.dispose(e,e._n)}const i=o(n._ch);for(let n=0;n<i.length;n++){const o=i[n];"object"==typeof o&&A(t,e,r,o)}}class P{constructor(t,e,r,n,i,o){this._f=0,this._re=t,this._rt=e,this._ho=r,this._pa=n,this._sc=i,this._el=o}get props(){return this._el.props}get value(){return this._re.read(v(this._el))}*[Symbol.iterator](){for(;!(16&this._f);){if(4&this._f)throw new Error("Context iterated twice without a yield");if(128&this._f)throw new Error("Use for awaitâ€¦of in async generator components");this._f|=4,yield this._el.props}}async*[Symbol.asyncIterator](){do{if(4&this._f)throw new Error("Context iterated twice without a yield");if(64&this._f)throw new Error("Use forâ€¦of in sync generator components");if(this._f|=4,8&this._f)this._f&=-9;else if(await new Promise(t=>this._oa=t),16&this._f)break;yield this._el.props}while(!(16&this._f))}refresh(){return 32&this._f?(console.error("Component is unmounted"),this._re.read(void 0)):2&this._f?(console.error("Component is already executing"),this._re.read(void 0)):(C(this),this._re.read(M(this)))}schedule(t){this._ss||(this._ss=new Set),this._ss.add(t)}cleanup(t){this._cs||(this._cs=new Set),this._cs.add(t)}consume(t){for(let e=this._pa;void 0!==e;e=e._pa)if(e._ps&&e._ps.has(t))return e._ps.get(t)}provide(t,e){this._ps||(this._ps=new Map),this._ps.set(t,e)}addEventListener(t,e,r){if(null==e)return;let n;this._ls||(this._ls=[]),r=Y(r),n="object"==typeof e?()=>e.handleEvent.apply(e,arguments):e;const i={type:t,callback:n,listener:e,options:r};if(r.once){const t=this;i.callback=function(){return t._ls&&(t._ls=t._ls.filter(t=>i!==t),0===t._ls.length&&(t._ls=void 0)),n.apply(this,arguments)}}if(!this._ls.some(t=>i.type===t.type&&i.listener===t.listener&&!i.options.capture==!t.options.capture)){this._ls.push(i);for(const t of m(this._el))N(t)&&t.addEventListener(i.type,i.callback,i.options)}}removeEventListener(t,e,r){if(null==e||!this._ls)return;const n=Y(r),i=this._ls.findIndex(r=>r.type===t&&r.listener===e&&!r.options.capture==!n.capture);if(-1===i)return;const o=this._ls[i];this._ls.splice(i,1),0===this._ls.length&&(this._ls=void 0);for(const t of m(this._el))N(t)&&t.removeEventListener(o.type,o.callback,o.options)}dispatchEvent(t){const e=[];for(let t=this._pa;void 0!==t;t=t._pa)e.push(t);let r=!1;const n=t.stopImmediatePropagation;D(t,"stopImmediatePropagation",()=>(r=!0,n.call(t))),D(t,"target",this);try{D(t,"eventPhase",z);for(let n=e.length-1;n>=0;n--){const i=e[n];if(i._ls){D(t,"currentTarget",i);for(const e of i._ls)if(e.type===t.type&&e.options.capture&&(e.callback.call(this,t),r))return!0}if(t.cancelBubble)return!0}if(this._ls){D(t,"eventPhase",I),D(t,"currentTarget",this);for(const e of this._ls)if(e.type===t.type&&(e.callback.call(this,t),r))return!0;if(t.cancelBubble)return!0}if(t.bubbles){D(t,"eventPhase",L);for(const n of e){if(n._ls){D(t,"currentTarget",n);for(const e of n._ls)if(e.type===t.type&&!e.options.capture&&(e.callback.call(this,t),r))return!0}if(t.cancelBubble)return!0}}}catch(t){console.error(t)}finally{return D(t,"eventPhase",O),D(t,"currentTarget",null),!t.defaultPrevented}}}function R(t){const e=t._el;if(16&t._f)return[void 0,v(e)];const r=!t._it;try{if(t._f|=2,r){X(t);const r=e.tag.call(t,e.props);if(!function(t){return null!=t&&"function"==typeof t.next}(r)){if(l(r)){const e=r instanceof Promise?r:Promise.resolve(r);return[e,e.then(e=>U(t,e))]}return[void 0,U(t,r)]}t._it=r}}finally{t._f&=-3}let n,o,s;n=t._el._inf?t._el._inf.then(e=>t._re.read(e),()=>t._re.read(void 0)):r?t._re.read(void 0):t._re.read(v(e));try{t._f|=2,o=t._it.next(n)}catch(e){throw t._f|=16,e}finally{t._f&=-3}if(l(o)){r&&(t._f|=128);return[o,o.then(e=>{4&t._f||(t._f&=-9),t._f&=-5,e.done&&(t._f|=16);try{const r=U(t,e.value);return l(r)?r.catch(e=>F(t,e)):r}catch(e){return F(t,e)}},e=>{throw t._f|=16,e})]}r&&(t._f|=64),t._f&=-5,o.done&&(t._f|=16);try{s=U(t,o.value),l(s)&&(s=s.catch(e=>F(t,e)))}catch(e){s=F(t,e)}return l(s)?[s.catch(i),s]:[void 0,s]}function k(t){t._ib=t._eb,t._iv=t._ev,t._eb=void 0,t._ev=void 0,128&t._f&&!(16&t._f)&&M(t)}function M(t){if(t._ib){if(128&t._f)return t._iv;if(!t._eb){let e;t._eb=t._ib.then(()=>{try{const[r,n]=R(t);if(e(n),l(n)&&(t._el._inf=n),l(r))return r.catch(e=>{if(!(1&t._f))return W(t._pa,e)})}catch(e){if(!(1&t._f))return W(t._pa,e)}}).finally(()=>k(t)),t._ev=new Promise(t=>e=t)}}else try{let[e,r]=R(t);return l(e)&&(t._ib=e.catch(e=>{if(!(1&t._f))return W(t._pa,e)}).finally(()=>k(t))),l(r)&&(t._iv=r,t._el._inf=r),r}catch(e){if(!(1&t._f))return W(t._pa,e);throw e}return t._ev}function C(t){t._oa?(t._oa(),t._oa=void 0):t._f|=8}function B(t){return t._f|=1,C(t),M(t)}function U(t,e){return S(t._re,t._rt,t._ho,t,t._sc,t._el,d(e))}const O=0,z=1,I=2,L=3;function Y(t){return"boolean"==typeof t?{capture:t}:null==t?{}:t}function N(t){return null!=t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener&&"function"==typeof t.dispatchEvent}function D(t,e,r){Object.defineProperty(t,e,{value:r,writable:!1,configurable:!0})}function j(t,e){let r;for(;void 0!==t&&t._ho===e;)void 0!==t._ls&&(r=(r||[]).concat(t._ls)),t=t._pa;return r}function X(t){if(t._ls&&t._ls.length>0){for(const e of m(t._el))if(N(e))for(const{type:r,callback:n,options:i}of t._ls)e.removeEventListener(r,n,i);t._ls=void 0}}function F(t,e){if(16&t._f||!t._it||"function"!=typeof t._it.throw)throw e;let r;C(t);try{t._f|=2,r=t._it.throw(e)}catch(e){throw t._f|=16,e}finally{t._f&=-3}return l(r)?r.then(e=>(e.done&&(t._f|=16),U(t,e.value)),e=>{throw t._f|=16,e}):(r.done&&(t._f|=16),U(t,r.value))}function W(t,e){if(void 0===t)throw e;let r;try{r=F(t,e)}catch(e){return W(t._pa,e)}return l(r)?r.catch(e=>W(t._pa,e)):r}const H="http://www.w3.org/2000/svg";const q=new class extends class{constructor(){this._cache=new WeakMap}render(t,e,r){let n;if("object"==typeof e&&null!==e&&(n=this._cache.get(e)),void 0===n)n=_(h,{children:t,root:e}),n._ctx=r,"object"==typeof e&&null!==e&&null!=t&&this._cache.set(e,n);else{if(n._ctx!==r)throw new Error("Context mismatch");n.props={children:t,root:e},"object"==typeof e&&null!==e&&null==t&&this._cache.delete(e)}const i=E(this,e,n,r,void 0,n);if(l(i))return i.then(()=>{const t=this.read(s(m(n)));return null==e&&A(this,n,void 0,n),t});const o=this.read(s(m(n)));return null==e&&A(this,n,void 0,n),o}read(t){return t}scope(t,e){return e}escape(t,e){return t}parse(t,e){return t}create(t,e){throw new Error("Not implemented")}patch(t,e){}arrange(t,e,r){}dispose(t,e){}complete(t){}}{render(t,e,r){if(null==e||"number"!=typeof e.nodeType)throw new TypeError("Render root is not a node. Received: "+JSON.stringify(e&&e.toString()));return super.render(t,e,r)}parse(t){if("function"==typeof document.createRange)return document.createRange().createContextualFragment(t);{const e=document.createDocumentFragment(),r=(new DOMParser).parseFromString(t,"text/html").body.childNodes;for(let t=0;t<r.length;t++)e.appendChild(r[t]);return e}}scope(t,e){switch(t.tag){case h:case"foreignObject":return;case"svg":return H;default:return e}}create(t,e){if("string"!=typeof t.tag)throw new Error("Unknown tag: "+t.tag.toString());return"svg"===t.tag&&(e=H),e?document.createElementNS(e,t.tag):document.createElement(t.tag)}patch(t,e){const r=e.namespaceURI===H;for(let n in t.props){let i=!1;const o=t.props[n];switch(n){case"children":break;case"style":{const t=e.style;if(null==t)e.setAttribute("style",o);else if(null==o)e.removeAttribute("style");else if("string"==typeof o)t.cssText=o;else for(const e in o){const r=o&&o[e];null==r?t.removeProperty(e):t.setProperty(e,r)}break}case"class":case"className":!0===o?e.setAttribute("class",""):o?r?e.setAttribute("class",o):e.className=o:e.removeAttribute("class");break;case"form":case"list":case"type":case"size":i=!0;default:null==o?e.removeAttribute(n):"function"==typeof o||"object"==typeof o?e[n]=o:i||r||!(n in e)?!0===o?e.setAttribute(n,""):!1===o?e.removeAttribute(n):e.setAttribute(n,o):e[n]=o}}}arrange(t,e,r){if(t.tag===h&&(null==e||"number"!=typeof e.nodeType))throw new TypeError("Portal root is not a node. Received: "+JSON.stringify(e&&e.toString()));if(!("innerHTML"in t.props)&&(0!==r.length||e.__cranky)){if(0===r.length)return void(e.textContent="");let t=e.firstChild,n=0;for(;null!==t&&n<r.length;){const i=r[n];if(t===i)t=t.nextSibling,n++;else if("string"==typeof i)t.nodeType===Node.TEXT_NODE?(t.nodeValue=i,t=t.nextSibling):e.insertBefore(document.createTextNode(i),t),n++;else if(t.nodeType===Node.TEXT_NODE){const r=t.nextSibling;e.removeChild(t),t=r}else if(e.insertBefore(i,t),n++,t!==r[n]){const r=t.nextSibling;e.removeChild(t),t=r}}for(;null!==t;){const r=t.nextSibling;e.removeChild(t),t=r}for(;n<r.length;n++){const t=r[n];e.appendChild("string"==typeof t?document.createTextNode(t):t)}r.length>0?e.__cranky=!0:e.__cranky&&(e.__cranky=!1)}}};r(0);var $=r(3);class G extends $.a{constructor(){super(),this._ctx=document.createElement("canvas").getContext("2d")}schedule(t){requestAnimationFrame(t)}getContainer(){return this._ctx.canvas}setOptions(t){super.setOptions(t);const e=`${t.fontStyle?t.fontStyle+" ":""} ${t.fontSize}px ${t.fontFamily}`;this._ctx.font=e,this._updateSize(),this._ctx.font=e,this._ctx.textAlign="center",this._ctx.textBaseline="middle"}clear(){this._ctx.fillStyle=this._options.bg,this._ctx.fillRect(0,0,this._ctx.canvas.width,this._ctx.canvas.height)}eventToPosition(t,e){let r=this._ctx.canvas,n=r.getBoundingClientRect();return t-=n.left,e-=n.top,t*=r.width/n.width,e*=r.height/n.height,t<0||e<0||t>=r.width||e>=r.height?[-1,-1]:this._normalizedEventToPosition(t,e)}}var V=r(1);class J extends G{constructor(){super(),this._spacingX=0,this._spacingY=0,this._hexSize=0}draw(t,e){let[r,n,i,o,s]=t,a=[(r+1)*this._spacingX,n*this._spacingY+this._hexSize];if(this._options.transpose&&a.reverse(),e&&(this._ctx.fillStyle=s,this._fill(a[0],a[1])),!i)return;this._ctx.fillStyle=o;let l=[].concat(i);for(let t=0;t<l.length;t++)this._ctx.fillText(l[t],a[0],Math.ceil(a[1]))}computeSize(t,e){return this._options.transpose&&(t+=e,t-=e=t-e),[Math.floor(t/this._spacingX)-1,Math.floor((e-2*this._hexSize)/this._spacingY+1)]}computeFontSize(t,e){this._options.transpose&&(t+=e,t-=e=t-e);let r=2*t/((this._options.width+1)*Math.sqrt(3))-1,n=e/(2+1.5*(this._options.height-1)),i=Math.min(r,n),o=this._ctx.font;this._ctx.font="100px "+this._options.fontFamily;let s=Math.ceil(this._ctx.measureText("W").width);this._ctx.font=o;let a=s/100;i=Math.floor(i)+1;let l=2*i/(this._options.spacing*(1+a/Math.sqrt(3)));return Math.ceil(l)-1}_normalizedEventToPosition(t,e){let r;this._options.transpose?(t+=e,t-=e=t-e,r=this._ctx.canvas.width):r=this._ctx.canvas.height;let n=r/this._options.height;return e=Math.floor(e/n),Object(V.mod)(e,2)?(t-=this._spacingX,t=1+2*Math.floor(t/(2*this._spacingX))):t=2*Math.floor(t/(2*this._spacingX)),[t,e]}_fill(t,e){let r=this._hexSize,n=this._options.border;const i=this._ctx;i.beginPath(),this._options.transpose?(i.moveTo(t-r+n,e),i.lineTo(t-r/2+n,e+this._spacingX-n),i.lineTo(t+r/2-n,e+this._spacingX-n),i.lineTo(t+r-n,e),i.lineTo(t+r/2-n,e-this._spacingX+n),i.lineTo(t-r/2+n,e-this._spacingX+n),i.lineTo(t-r+n,e)):(i.moveTo(t,e-r+n),i.lineTo(t+this._spacingX-n,e-r/2+n),i.lineTo(t+this._spacingX-n,e+r/2-n),i.lineTo(t,e+r-n),i.lineTo(t-this._spacingX+n,e+r/2-n),i.lineTo(t-this._spacingX+n,e-r/2+n),i.lineTo(t,e-r+n)),i.fill()}_updateSize(){const t=this._options,e=Math.ceil(this._ctx.measureText("W").width);let r,n;this._hexSize=Math.floor(t.spacing*(t.fontSize+e/Math.sqrt(3))/2),this._spacingX=this._hexSize*Math.sqrt(3)/2,this._spacingY=1.5*this._hexSize,t.transpose?(r="height",n="width"):(r="width",n="height"),this._ctx.canvas[r]=Math.ceil((t.width+1)*this._spacingX),this._ctx.canvas[n]=Math.ceil((t.height-1)*this._spacingY+2*this._hexSize)}}var K=(()=>{class t extends G{constructor(){super(),this._spacingX=0,this._spacingY=0,this._canvasCache={}}setOptions(t){super.setOptions(t),this._canvasCache={}}draw(e,r){t.cache?this._drawWithCache(e):this._drawNoCache(e,r)}_drawWithCache(t){let e,[r,n,i,o,s]=t,a=""+i+o+s;if(a in this._canvasCache)e=this._canvasCache[a];else{let t=this._options.border;e=document.createElement("canvas");let r=e.getContext("2d");if(e.width=this._spacingX,e.height=this._spacingY,r.fillStyle=s,r.fillRect(t,t,e.width-t,e.height-t),i){r.fillStyle=o,r.font=this._ctx.font,r.textAlign="center",r.textBaseline="middle";let t=[].concat(i);for(let e=0;e<t.length;e++)r.fillText(t[e],this._spacingX/2,Math.ceil(this._spacingY/2))}this._canvasCache[a]=e}this._ctx.drawImage(e,r*this._spacingX,n*this._spacingY)}_drawNoCache(t,e){let[r,n,i,o,s]=t;if(e){let t=this._options.border;this._ctx.fillStyle=s,this._ctx.fillRect(r*this._spacingX+t,n*this._spacingY+t,this._spacingX-t,this._spacingY-t)}if(!i)return;this._ctx.fillStyle=o;let a=[].concat(i);for(let t=0;t<a.length;t++)this._ctx.fillText(a[t],(r+.5)*this._spacingX,Math.ceil((n+.5)*this._spacingY))}computeSize(t,e){return[Math.floor(t/this._spacingX),Math.floor(e/this._spacingY)]}computeFontSize(t,e){let r=Math.floor(t/this._options.width),n=Math.floor(e/this._options.height),i=this._ctx.font;this._ctx.font="100px "+this._options.fontFamily;let o=Math.ceil(this._ctx.measureText("W").width);this._ctx.font=i;let s=o/100*n/r;return s>1&&(n=Math.floor(n/s)),Math.floor(n/this._options.spacing)}_normalizedEventToPosition(t,e){return[Math.floor(t/this._spacingX),Math.floor(e/this._spacingY)]}_updateSize(){const t=this._options,e=Math.ceil(this._ctx.measureText("W").width);this._spacingX=Math.ceil(t.spacing*e),this._spacingY=Math.ceil(t.spacing*t.fontSize),t.forceSquareRatio&&(this._spacingX=this._spacingY=Math.max(this._spacingX,this._spacingY)),this._ctx.canvas.width=t.width*this._spacingX,this._ctx.canvas.height=t.height*this._spacingY}}return t.cache=!1,t})();class Z extends G{constructor(){super(),this._colorCanvas=document.createElement("canvas")}draw(t,e){let[r,n,i,o,s]=t,a=this._options.tileWidth,l=this._options.tileHeight;if(e&&(this._options.tileColorize?this._ctx.clearRect(r*a,n*l,a,l):(this._ctx.fillStyle=s,this._ctx.fillRect(r*a,n*l,a,l))),!i)return;let h=[].concat(i),c=[].concat(o),u=[].concat(s);for(let t=0;t<h.length;t++){let e=this._options.tileMap[h[t]];if(!e)throw new Error(`Char "${h[t]}" not found in tileMap`);if(this._options.tileColorize){let i=this._colorCanvas,o=i.getContext("2d");o.globalCompositeOperation="source-over",o.clearRect(0,0,a,l);let s=c[t],h=u[t];o.drawImage(this._options.tileSet,e[0],e[1],a,l,0,0,a,l),"transparent"!=s&&(o.fillStyle=s,o.globalCompositeOperation="source-atop",o.fillRect(0,0,a,l)),"transparent"!=h&&(o.fillStyle=h,o.globalCompositeOperation="destination-over",o.fillRect(0,0,a,l)),this._ctx.drawImage(i,r*a,n*l,a,l)}else this._ctx.drawImage(this._options.tileSet,e[0],e[1],a,l,r*a,n*l,a,l)}}computeSize(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}computeFontSize(){throw new Error("Tile backend does not understand font size")}_normalizedEventToPosition(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}_updateSize(){const t=this._options;this._ctx.canvas.width=t.width*t.tileWidth,this._ctx.canvas.height=t.height*t.tileHeight,this._colorCanvas.width=t.tileWidth,this._colorCanvas.height=t.tileHeight}}var Q=r(2);class tt extends $.a{constructor(){super(),this._uniforms={};try{this._gl=this._initWebGL()}catch(t){alert(t.message)}}static isSupported(){return!!document.createElement("canvas").getContext("webgl2",{preserveDrawingBuffer:!0})}schedule(t){requestAnimationFrame(t)}getContainer(){return this._gl.canvas}setOptions(t){super.setOptions(t),this._updateSize();let e=this._options.tileSet;e&&"complete"in e&&!e.complete?e.addEventListener("load",()=>this._updateTexture(e)):this._updateTexture(e)}draw(t,e){const r=this._gl,n=this._options;let[i,o,s,a,l]=t,h=r.canvas.height-(o+1)*n.tileHeight;if(r.scissor(i*n.tileWidth,h,n.tileWidth,n.tileHeight),e&&(n.tileColorize?r.clearColor(0,0,0,0):r.clearColor(...ot(l)),r.clear(r.COLOR_BUFFER_BIT)),!s)return;let c=[].concat(s),u=[].concat(l),f=[].concat(a);r.uniform2fv(this._uniforms.targetPosRel,[i,o]);for(let t=0;t<c.length;t++){let e=this._options.tileMap[c[t]];if(!e)throw new Error(`Char "${c[t]}" not found in tileMap`);r.uniform1f(this._uniforms.colorize,n.tileColorize?1:0),r.uniform2fv(this._uniforms.tilesetPosAbs,e),n.tileColorize&&(r.uniform4fv(this._uniforms.tint,ot(f[t])),r.uniform4fv(this._uniforms.bg,ot(u[t]))),r.drawArrays(r.TRIANGLE_STRIP,0,4)}}clear(){const t=this._gl;t.clearColor(...ot(this._options.bg)),t.scissor(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT)}computeSize(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}computeFontSize(){throw new Error("Tile backend does not understand font size")}eventToPosition(t,e){let r=this._gl.canvas,n=r.getBoundingClientRect();return t-=n.left,e-=n.top,t*=r.width/n.width,e*=r.height/n.height,t<0||e<0||t>=r.width||e>=r.height?[-1,-1]:this._normalizedEventToPosition(t,e)}_initWebGL(){let t=document.createElement("canvas").getContext("webgl2",{preserveDrawingBuffer:!0});window.gl=t;let e=function(t,e,r){const n=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n)||"");const i=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(i,r),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(i)||"");const o=t.createProgram();if(t.attachShader(o,n),t.attachShader(o,i),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new Error(t.getProgramInfoLog(o)||"");return o}(t,rt,nt);return t.useProgram(e),function(t){const e=new Float32Array([0,0,1,0,0,1,1,1]),r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.enableVertexAttribArray(0),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,0)}(t),et.forEach(r=>this._uniforms[r]=t.getUniformLocation(e,r)),this._program=e,t.enable(t.BLEND),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA),t.enable(t.SCISSOR_TEST),t}_normalizedEventToPosition(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}_updateSize(){const t=this._gl,e=this._options,r=[e.width*e.tileWidth,e.height*e.tileHeight];t.canvas.width=r[0],t.canvas.height=r[1],t.viewport(0,0,r[0],r[1]),t.uniform2fv(this._uniforms.tileSize,[e.tileWidth,e.tileHeight]),t.uniform2fv(this._uniforms.targetSize,r)}_updateTexture(t){!function(t,e){let r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e)}(this._gl,t)}}const et=["targetPosRel","tilesetPosAbs","tileSize","targetSize","colorize","bg","tint"],rt="\n#version 300 es\n\nin vec2 tilePosRel;\nout vec2 tilesetPosPx;\n\nuniform vec2 tilesetPosAbs;\nuniform vec2 tileSize;\nuniform vec2 targetSize;\nuniform vec2 targetPosRel;\n\nvoid main() {\n\tvec2 targetPosPx = (targetPosRel + tilePosRel) * tileSize;\n\tvec2 targetPosNdc = ((targetPosPx / targetSize)-0.5)*2.0;\n\ttargetPosNdc.y *= -1.0;\n\n\tgl_Position = vec4(targetPosNdc, 0.0, 1.0);\n\ttilesetPosPx = tilesetPosAbs + tilePosRel * tileSize;\n}".trim(),nt="\n#version 300 es\nprecision highp float;\n\nin vec2 tilesetPosPx;\nout vec4 fragColor;\nuniform sampler2D image;\nuniform bool colorize;\nuniform vec4 bg;\nuniform vec4 tint;\n\nvoid main() {\n\tfragColor = vec4(0, 0, 0, 1);\n\n\tvec4 texel = texelFetch(image, ivec2(tilesetPosPx), 0);\n\n\tif (colorize) {\n\t\ttexel.rgb = tint.a * tint.rgb + (1.0-tint.a) * texel.rgb;\n\t\tfragColor.rgb = texel.a*texel.rgb + (1.0-texel.a)*bg.rgb;\n\t\tfragColor.a = texel.a + (1.0-texel.a)*bg.a;\n\t} else {\n\t\tfragColor = texel;\n\t}\n}".trim();let it={};function ot(t){if(!(t in it)){let e;if("transparent"==t)e=[0,0,0,0];else if(t.indexOf("rgba")>-1){e=(t.match(/[\d.]+/g)||[]).map(Number);for(let t=0;t<3;t++)e[t]=e[t]/255}else e=Q.fromString(t).map(t=>t/255),e.push(1);it[t]=e}return it[t]}var st=r(5);const at=/%([bc]){([^}]*)}/g,lt=0,ht=1,ct=2,ut=3;function ft(t,e){let r={width:0,height:1},n=pt(t,e),i=0;for(let t=0;t<n.length;t++){let e=n[t];switch(e.type){case lt:i+=e.value.length;break;case ht:r.height++,r.width=Math.max(r.width,i),i=0}}return r.width=Math.max(r.width,i),r}function pt(t,e){let r=[],n=0;t.replace(at,(function(e,i,o,s){let a=t.substring(n,s);return a.length&&r.push({type:lt,value:a}),r.push({type:"c"==i?ct:ut,value:o.trim()}),n=s+e.length,""}));let i=t.substring(n);return i.length&&r.push({type:lt,value:i}),function(t,e){e||(e=1/0);let r=0,n=0,i=-1;for(;r<t.length;){let o=t[r];if(o.type==ht&&(n=0,i=-1),o.type!=lt){r++;continue}for(;0==n&&" "==o.value.charAt(0);)o.value=o.value.substring(1);let s=o.value.indexOf("\n");if(-1!=s){o.value=gt(t,r,s,!0);let e=o.value.split("");for(;e.length&&" "==e[e.length-1];)e.pop();o.value=e.join("")}if(o.value.length){if(n+o.value.length>e){let s=-1;for(;;){let t=o.value.indexOf(" ",s+1);if(-1==t)break;if(n+t>e)break;s=t}if(-1!=s)o.value=gt(t,r,s,!0);else if(-1!=i){let e=t[i],n=e.value.lastIndexOf(" ");e.value=gt(t,i,n,!0),r=i}else o.value=gt(t,r,e-n,!1)}else n+=o.value.length,-1!=o.value.indexOf(" ")&&(i=r);r++}else t.splice(r,1)}t.push({type:ht});let o=null;for(let e=0;e<t.length;e++){let r=t[e];switch(r.type){case lt:o=r;break;case ht:if(o){let t=o.value.split("");for(;t.length&&" "==t[t.length-1];)t.pop();o.value=t.join("")}o=null}}return t.pop(),t}(r,e)}function gt(t,e,r,n){let i={type:ht},o={type:lt,value:t[e].value.substring(r+(n?1:0))};return t.splice(e+1,0,i,o),t[e].value.substring(0,r)}const _t={hex:J,rect:K,tile:Z,"tile-gl":tt,term:st.a},dt={width:80,height:25,transpose:!1,layout:"rect",fontSize:15,spacing:1,border:0,forceSquareRatio:!1,fontFamily:"monospace",fontStyle:"",fg:"#ccc",bg:"#000",tileWidth:32,tileHeight:32,tileMap:{},tileSet:null,tileColorize:!1};var yt=(()=>{class t{constructor(t={}){this._data={},this._dirty=!1,this._options={},t=Object.assign({},dt,t),this.setOptions(t),this.DEBUG=this.DEBUG.bind(this),this._tick=this._tick.bind(this),this._backend.schedule(this._tick)}DEBUG(t,e,r){let n=[this._options.bg,this._options.fg];this.draw(t,e,null,null,n[r%n.length])}clear(){this._data={},this._dirty=!0}setOptions(t){if(Object.assign(this._options,t),t.width||t.height||t.fontSize||t.fontFamily||t.spacing||t.layout){if(t.layout){let e=_t[t.layout];this._backend=new e}this._backend.setOptions(this._options),this._dirty=!0}return this}getOptions(){return this._options}getContainer(){return this._backend.getContainer()}computeSize(t,e){return this._backend.computeSize(t,e)}computeFontSize(t,e){return this._backend.computeFontSize(t,e)}computeTileSize(t,e){return[Math.floor(t/this._options.width),Math.floor(e/this._options.height)]}eventToPosition(t){let e,r;return"touches"in t?(e=t.touches[0].clientX,r=t.touches[0].clientY):(e=t.clientX,r=t.clientY),this._backend.eventToPosition(e,r)}draw(t,e,r,n,i){n||(n=this._options.fg),i||(i=this._options.bg);let o=`${t},${e}`;this._data[o]=[t,e,r,n,i],!0!==this._dirty&&(this._dirty||(this._dirty={}),this._dirty[o]=!0)}drawText(t,e,r,n){let i=null,o=null,s=t,a=e,l=1;n||(n=this._options.width-t);let h=pt(r,n);for(;h.length;){let e=h.shift();switch(e.type){case lt:let r=!1,n=!1,h=!1,c=!1;for(let t=0;t<e.value.length;t++){let l=e.value.charCodeAt(t),u=e.value.charAt(t);if("term"===this._options.layout){let t=l>>8;if(17===t||t>=46&&t<=159||t>=172&&t<=215||l>=43360&&l<=43391){this.draw(s+0,a,u,i,o),this.draw(s+1,a,"\t",i,o),s+=2;continue}}h=l>65280&&l<65377||l>65500&&l<65512||l>65518,r=32==u.charCodeAt(0)||12288==u.charCodeAt(0),!c||h||r||s++,h&&!n&&s++,this.draw(s++,a,u,i,o),n=r,c=h}break;case ct:i=e.value||null;break;case ut:o=e.value||null;break;case ht:s=t,a++,l++}}return l}_tick(){if(this._backend.schedule(this._tick),this._dirty){if(!0===this._dirty){this._backend.clear();for(let t in this._data)this._draw(t,!1)}else for(let t in this._dirty)this._draw(t,!0);this._dirty=!1}}_draw(t,e){let r=this._data[t];r[4]!=this._options.bg&&(e=!0),this._backend.draw(r,e)}}return t.Rect=K,t.Hex=J,t.Tile=Z,t.TileGL=tt,t.Term=st.a,t})();Math.sqrt(3),Math.sqrt(3);var vt=r(6),mt=document.getElementById("app"),wt=new yt,bt=new vt.a(wt);function Et(){return _("div",{class:"row-cell header-text"},_("h1",null,"Rogue WebAssembly"))}function Tt(t){var e=t.display;return setTimeout((function(){var t=document.getElementById("main-panel");if(t){var r=e.getContainer();r&&t.appendChild(r)}}),1e3),_("div",{className:"row-cell main",id:"main-panel"})}function St(t){var e=t.hitpoints,r=t.moves;return _("div",{className:"row-cell stats"},_("div",{className:"row-cell header-text"},_("h2",null,"Stats")),_("div",null,_("b",null,"Hitpoints: ",e)," / 30"),_("div",null,_("b",null,"Moves: ",r)))}console.log("!!!"),console.log(bt),mt&&q.render(_((function(){return _("div",{className:"main-container"},_("div",{className:"row"},_(Et,null)),_("div",{className:"row"},_(Tt,{display:wt}),_(St,{hitpoints:0,moves:0})))}),null),mt)}]);